#PD AW Decisions

#Transplanet Tree TOL
decision_pd_replant_tree_of_life = {
	owned_planets_only = yes
	sound = event_mystic_reveal
	icon = decision_pd_replant_tree_of_life

	enactment_time = 360

	resources = {
		category = decisions
		cost = {
			food = 1000
		}
	}

	potential = {
		has_modifier = pd_no_lifetree
		OR = {
			pd_is_planet_class_superhabitable = yes
			pd_is_planet_class_tidally_locked = yes
			pd_is_planet_class_cave = yes
		}
	}

	allow = { 
		has_modifier = pd_no_lifetree
		OR = {
			pd_is_planet_class_superhabitable = yes
			pd_is_planet_class_tidally_locked = yes
			pd_is_planet_class_cave = yes
		}
	}

	effect = {
		remove_modifier = pd_no_lifetree
		hidden_effect = {
			add_deposit = d_pd_tree_of_life_colony
			switch = {
				trigger = is_planet_class
				pc_habitat = {
					planet_event = {
						id = pdtreeoflife.21
						days = 2160
					}
					add_modifier = { modifier = pd_tree_of_life_growing days = 2160 }
				}
				pc_ringworld_habitable = {
					planet_event = { id = pdtreeoflife.21 days = 9000 }
					add_modifier = {
						modifier = pd_tree_of_life_growing
						days = 9000
					}
				}
				pc_continental = { 
					planet_event = { id = pdtreeoflife.21 days = 9000 }
					add_modifier = {
						modifier = pd_tree_of_life_growing
						days = 9000
					}
				}
				pc_tropical = { 
					planet_event = { id = pdtreeoflife.21 days = 9000 }
					add_modifier = {
						modifier = pd_tree_of_life_growing
						days = 9000
					}
				}
				pc_ocean = { 
					planet_event = { id = pdtreeoflife.21 days = 9000 }
					add_modifier = {
						modifier = pd_tree_of_life_growing
						days = 9000
					}
				}
				default = {
					planet_event = { id = pdtreeoflife.21 days = 18000 }
					add_modifier = {
						modifier = pd_tree_of_life_growing
						days = 18000
					}
				}
			}
			remove_modifier = pd_no_lifetree #as the planet transfer events fire before this
		}
	}

	ai_weight = {
		weight = 1000
	}
}

#Bloom Megaflora Hive
decision_pd_bloom_tree_of_life = {
	owned_planets_only = yes
	sound = event_mystic_reveal
	icon = decision_pd_aw_bloom_tree_of_life

	enactment_time = 3600

	resources = {
		category = decisions
		cost = {
			influence = 200
			food = 20000
		}
	}

	potential = {
		has_modifier = pd_tree_of_life_home
		has_deposit = d_pd_tree_of_life_home
		owner = {
			has_ascension_perk = ap_pd_tree_of_life_bloomed
		}
		is_planet_class = pc_pd_wet_gaia
	}

	effect = {
		custom_tooltip = decision_pd_bloom_tree_of_life_tooltip
		hidden_effect = {
			add_modifier = {
				modifier = pd_tree_of_life_bloomed
				days = -1
			}
			add_deposit = d_pd_tree_of_life_bloomed
			remove_modifier = pd_tree_of_life_home
			remove_deposit = d_pd_tree_of_life_home
			set_planet_entity = {
				picture = pc_pd_megaflora_hive_bloomed
				entity = megafloratol_bloomed_planet_01_entity
			}
		}
	}

	ai_weight = {
		weight = 1000
	}
}